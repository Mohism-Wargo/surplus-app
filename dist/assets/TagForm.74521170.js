import{bD as _,bS as y,bw as d,bT as q,bs as h,bE as o,bQ as f}from"./vendor.6a6b1e94.js";import{h as u,F as m,a as v,b as T,v as k,c as x}from"./index.79152699.js";const w=(t,c)=>{var n;throw((n=t.response)==null?void 0:n.status)===422&&c(t.response.data),t},S="_tips_qhquy_1",V="_actions_qhquy_6",j="_removeTags_qhquy_11",E="_removeTagsAndItems_qhquy_12",F="_text_qhquy_16",A="_button_qhquy_22",I={tips:S,actions:V,removeTags:j,removeTagsAndItems:E,text:F,button:A},N=_({props:{id:Number},setup:(t,c)=>{const n=y(),e=d({id:void 0,name:"",sign:"",kind:n.query.kind.toString()}),s=d({}),g=q(),l=async a=>{a.preventDefault();const r=[{key:"name",type:"required",message:"\u5FC5\u586B"},{key:"name",type:"pattern",regex:/^.{1,4}$/,message:"\u8BF7\u8F93\u5165 1-4 \u4E2A\u5B57\u7B26"},{key:"sign",type:"required",message:"\u5FC5\u586B"}];Object.assign(s,{name:[],sign:[]}),Object.assign(s,k(e,r)),x(s)||(await(await e.id?u.patch(`/tags/${e.id}`,e,{_mock:"tagEdit",_autoLoading:!0}):u.post("/tags",e,{_mock:"tagCreate",_autoLoading:!0})).catch(p=>w(p,b=>Object.assign(s,b.errors))),g.back())};return h(async()=>{if(!t.id)return;const a=await u.get(`/tags/${t.id}`,{},{_mock:"tagShow"});Object.assign(e,a.data.resource)}),()=>o(T,{onSubmit:l},{default:()=>{var a,r;return[o(m,{label:"\u6807\u7B7E\u540D:",type:"text",modelValue:e.name,"onUpdate:modelValue":i=>e.name=i,error:(a=s.name)==null?void 0:a[0]},null),o(m,{label:"\u7B26\u53F7:"+e.sign,type:"emojiSelect",modelValue:e.sign,"onUpdate:modelValue":i=>e.sign=i,error:(r=s.sign)==null?void 0:r[0]},null),o(m,null,{default:()=>[o(v,{type:"submit",class:[I.button]},{default:()=>[f("\u786E\u5B9A")]})]})]}})}});export{N as T,I as s};
